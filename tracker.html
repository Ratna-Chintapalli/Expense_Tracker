<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Expense Tracker </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300..700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="tracker.css">
</head>
  <body>
    <div class="header">
        <p class="m-0">Expense<br> Tracker
        <img src="./spending.jpg" alt="" width="50px" > </p>
    </div>
    <div class="input-form">
        <div class="form-floating inputs">
        <input type="date" class="form-control dateInput" id="dateInput" placeholder="please enter  name">
            <label for="floatingInput">Date</label>
        </div>
        <div class="form-floating inputs">
            <input type="text" class="form-control amountInput" id="amountInput" placeholder="please enter  name">
                <label for="floatingInput">Amount</label>
           </div>
        <div class="form-floating inputs">
        <select class="form-select transInput" id="transInput" aria-label="Default select example">
            <option selected>Transaction Type</option>
            <option value="income">Income</option>
            <option value="expense">Expense</option>
            <option value="balance">Balance</option>
          </select>
        </div>
    <button class="btn" id="add-btn" onclick="addRow()">+</button>
    </div>
    <div class="cards md-2">
        <div class="card" >
            <div class="card-body">
              <h5 class="card-title m-0">Total Income
              <img src="./bag1.jpg " alt="" width="35px "></h5>
              <h1 class="m-0"> 
              <img src="./rupeee2.png" alt="" width="25px">
              <span id="totalIncome" class="m-0">0</span></h1>
            </div>
          </div>
          <div class="card" >
            <div class="card-body">
              <h5 class="card-title m-0">Total Expense
              <img src="./expense.jpg " alt="" width="35px "></h5>
              <h1 class="m-0"> 
              <img src="./rupeee2.png" alt="" width="25px" >
              <span id="expense" class="m-0">0</span></h1>
            </div>
          </div>
          <div class="card">
            <div class="card-body">
              <h5 class="card-title m-0">Balance
              <img src="./bag1.jpg " alt="" width="35px "></h5>
              <h1 class="m-0"> 
              <img src="./rupeee2.png" alt="" width="25px">
              <span id="balance" class="m-0">0</span></h1>
            </div>
          </div>
    </div>
    <table class="transaction-table" id="table">
        <tr id="header-row">
            <th>Amount</th>
            <th>Transaction Type</th>
            <th>Transaction Date</th>
            <th>Action</th>
        </tr>
        <tr>
          <!--   <td>10,499 </td>
            <td>Income  </td>
            <td>30-01-2025</td>
            <td><button class="btn btn-md delete-btn">
                <img src="./recycle1.jpg" alt="" width="30px">
            </button>
          </tr>
           <tr>
            <td>1000 </td>
            <td>Expense  </td>
            <td>30-01-2025</td>
            <td><button class="btn btn-md delete-btn">
                <img src="./recycle1.jpg" alt="" width="30px">
            </button>
        </tr>
        <tr>
            <td>2,499 </td>
            <td>Expense  </td>
            <td>30-01-2025</td>
            <td><button class="btn btn-md delete-btn">
                <img src="./recycle1.jpg" alt="" width="30px">
            </button>
        </tr>
        <tr>
            <td>2000 </td>
            <td>Income  </td>
            <td>30-01-2025</td>

           
            <td><button class="btn btn-md delete-btn">
                <img src="./recycle1.jpg" alt="" width="30px">
            </button>
        </tr>   -->
    </table>
    <script>
      let table=document.getElementById('table');
      console.log("table",table);
      function deleteRow(){
        console.log('Hi from delteRow function')
        console.log(row);
        row.remove()

      }
      function addRow(){
        let date=document.getElementsByClassName('dateInput')[0].value;
        let amount=document.getElementsByClassName('amountInput')[0].value;
        let transactionType=document.getElementsByClassName('transInput')[0].value;
        //console.log("line 122 : ",date,amount,transactionType);
        if(date==="" || amount === "" || transactionType=== ""){
          alert("Please enter all values before adding a transaction.");
          return false;
        }
        
        let row=document.createElement('tr');
        let amount1=document.createElement('td');
        amount1.innerText=amount;

        let trans1=document.createElement('td');
        trans1.innerText=transactionType;

        let date1=document.createElement('td');
        date1.innerText=date;

        let bincell=document.createElement('td');

        let deletebtn=document.createElement('button');
        let binimage=document.createElement('img')
        binimage.src='./recycle1.jpg';
        binimage.style.width='25px'
        binimage.style.height='25px'

        deletebtn.classList.add('deletebtn');
        deletebtn.onclick=()=>deleteRow(row);

        deletebtn.appendChild(binimage);
       // deletebtn.innerText="Delete";
        bincell.appendChild(deletebtn);
        
        row.appendChild(amount1);
        row.appendChild(trans1);
        row.appendChild(date1);
        row.appendChild(bincell);

        table.appendChild(row);

        let totalIncome=document.getElementById('totalIncome').innerText;
        let totalExpense=document.getElementById('expense').innerText;
        let balance=document.getElementById('balance').innerText;

        if(transactionType == 'income'){
          if(totalIncome == '0'){
            document.getElementById('totalIncome').innerText=amount;
          }else{
            document.getElementById('totalIncome').innerText=parseInt(totalIncome)+parseInt(amount);
          }
          if(balance=='0'){
            document.getElementById('balance').innerText=amount;
          }else{
            document.getElementById('balance').innerText=parseInt(balance)+parseInt(amount);
          }
        }else if(transactionType=='expense'){
          if(totalExpense=='0'){
            document.getElementById('expense').innerText=amount;
          }else{
            document.getElementById('expense').innerText=parseInt(totalExpense)+parseInt(amount);
          }
          if(balance=='0'){
            document.getElementById('balance').innerText=amount;
          }else{
            document.getElementById('balance').innerText=parseInt(balance)-parseInt(amount);
          }
          
        }
        //console.log("line 174:", totalincome,totalExpense,balance)
       // console.log("line 136 :" , amount1,trans1,date1);
      }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
</body>
</html>